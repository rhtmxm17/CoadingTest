# 양과 늑대 : 자료구조, 우선순위

[문제 링크](https://school.programmers.co.kr/learn/courses/30/lessons/92343)

## 생각 정리

문제에서 요구한 순회는 노드의 최상단에서 자료를 하나씩 꺼내는, 힙 형태의 구조를 생각하면 정리가 더 쉬워질 것 같다.  
여기서 중요해지는 것은 양쪽 분기가 모두 늑대일 때, 어느 분기의 우선순위를 높게 평가할 것인지이다.

분기에서...

1. 아래에 늑대밖에 없는 분기는 제거한다(리프 노드는 반드시 양)
1. 양은 우선순위가 항상 가장 높다 (양쪽 모두 양일경우 무관)
1. 가장 가까운 양 까지의 거리가 이미 꺼낸 _양 마릿수 - 늑대 마릿수_ 보다 크거나 길다면 우선순위가 가장 낮다(양이 잡아먹히는 경우)
1. 늑대의 수가 같다면, 하위 노드에 양이 더 많은 분기가 우선순위가 높을 것이다.
1. 양의 수가 같다면, 하위 노드에 늑대가 더 적은 분기가 우선순위가 높을 것이다.

하지만 양의 수와 늑대의 수가 모두 다를 경우의 판단이 고민이 된다. 일단 떠오르는 후보로는 여분의 양 확보량 (분기의 _양 마릿수 - 늑대 마릿수_ )과 가장 가까운 양 까지의 거리의 두가지가 있다.

## 우선순위 평가

처음 시도한 여분의 양 확보량으로는 일부 케이스만 올바르게 작동했다. 각 노드에 점수를 매기는 방식으로 다시 시도한다.

점수 기준

1. 양은 자체적으로 점수를 갖는다.
1. 모든 노드는 부모 노드에 자신이 갖는 점수의 일정 비율을 부여한다.
1. 항상 양 노드는 늑대 노드보다 점수가 높게 설계한다.

우선은 부모 노드에 자신이 갖는 점수의 1/4을, 그 부모에 1/8을, 그 부모에는 1/16을 ... 하는 식으로 루트 노드까지 점수를 부여하는 방식으로 시도했다. 양에 매우 큰 점수를 주고, 조상 노드에는 `양 점수 >> (1 + 깊이)`를 더한다.

이 방법의 경우 18가지중 2가지 테스트케이스를 실패했다. 접근 방법은 개선되었지만 오류가 있었던 것으로 생각햇다.
